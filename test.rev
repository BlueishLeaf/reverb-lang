var map = fn(array, func) begin
    var loop = fn(array, processed) begin
        if length(array) == 0 then
            return processed
        end
        loop(tail(array), push(processed, func(head(array))))
    end
    loop(array, [])
end

var integers = [1, 2, 3, 4, 5]

print(map(integers, fn(x) begin x * 2 end))
print(map(integers, fn(x) begin x * x end))